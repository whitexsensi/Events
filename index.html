<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Free Fire Bundles â€” Claim Your Reward</title>
  <style>
    :root {
      --bg: #0f1207;
      --card: #1a1c12;
      --accent: #f59e0b;
      --accent-2: #ea580c;
      --muted: rgba(255,255,255,0.8);
      --round: 14px;
      font-family: Inter, system-ui, sans-serif;
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      margin: 0;
      background: linear-gradient(180deg, #071029 0%, #0f1207 60%);
      color: #fff;
      min-height: 100vh;
    }
    .container { max-width: 1100px; margin: 36px auto; padding: 24px; }
    header { display: flex; gap: 16px; align-items: center; margin-bottom: 24px; }
    .logo {
      background: linear-gradient(90deg, var(--accent-2), var(--accent));
      padding: 10px 14px;
      border-radius: 12px;
      font-weight: 700;
    }
    h1 { margin: 0; font-size: 24px; }
    .page { display: none; opacity: 0; transform: translateY(20px); transition: 0.4s; }
    .page.active { display: block; opacity: 1; transform: translateY(0); }
    .upload-card {
      background: var(--card);
      padding: 24px;
      border-radius: 16px;
      box-shadow: 0 6px 20px rgba(0,0,0,0.4);
      max-width: 600px;
      margin: 0 auto;
    }
    .upload-drop {
      height: 400px;
      border-radius: 12px;
      border: 2px dashed var(--accent);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      background: rgba(245,158,11,0.05);
      cursor: pointer;
      transition: all 0.3s ease;
    }
    .upload-drop:hover {
      border-color: var(--accent-2);
      background: rgba(245,158,11,0.1);
    }
    .upload-drop input { display: none; }
    .preview {
      width: 100%;
      height: 340px;
      object-fit: cover;
      border-radius: 10px;
      border: 1px solid rgba(255,255,255,0.1);
    }
    .btn {
      display: inline-block;
      padding: 12px 24px;
      border-radius: 12px;
      background: linear-gradient(90deg, var(--accent-2), var(--accent));
      color: #000;
      font-weight: 600;
      text-decoration: none;
      border: none;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    .btn:hover { transform: translateY(-2px); }
    .continue-btn { display: block; width: 200px; margin: 24px auto 0; text-align: center; }
    .bundles-container {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 20px;
    }
    .bundle-card {
      background: rgba(255,255,255,0.05);
      padding: 20px;
      border-radius: 16px;
      text-align: center;
      border: 1px solid rgba(255,255,255,0.08);
      transition: all 0.3s ease;
      display: flex;
      flex-direction: column;
      height: 100%;
    }
    .bundle-card:hover {
      transform: translateY(-5px);
      border-color: var(--accent);
      box-shadow: 0 8px 25px rgba(245,158,11,0.15);
    }
    
    /* FIXED: Better image styling */
    .bundle-image {
      width: 100%;
      height: 420px;
      object-fit: contain; /* ðŸ‘ˆ Changed from 'cover' to 'contain' for full image */
      border-radius: 12px;
      display: block;
      margin: 0 auto 16px auto;
      background: rgba(0,0,0,0.3); /* Background for transparent areas */
      padding: 10px;
    }
    
    .modal-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(2,6,23,0.85);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 100;
    }
    .modal {
      width: 440px;
      background: rgba(30,30,20,0.95);
      padding: 24px;
      border-radius: 16px;
      border: 1px solid rgba(245,158,11,0.2);
      box-shadow: 0 8px 40px rgba(0,0,0,0.6);
    }
    .congrats {
      display: none;
      flex-direction: column;
      align-items: center;
      gap: 16px;
      text-align: center;
    }
    .reward img {
      width: 300px;
      height: 400px;
      object-fit: contain; /* ðŸ‘ˆ Full image in congrats modal */
      border-radius: 12px;
      background: rgba(0,0,0,0.3);
      padding: 15px;
    }
    
    /* Responsive design */
    @media (max-width: 768px) {
      .bundle-image {
        height: 350px; /* Smaller on mobile */
      }
      .bundles-container {
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      }
    }
    
    @media (max-width: 480px) {
      .bundle-image {
        height: 300px; /* Even smaller on very small screens */
      }
      .bundles-container {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Upload Page -->
    <div id="uploadPage" class="page active">
      <header>
        <div class="logo">ðŸ”¥ Whitex</div>
        <div><h1>Upload To Unlock Bundles</h1></div>
      </header>

      <div class="upload-card">
        <label class="upload-drop" id="dropZone">
          <img id="preview" class="preview" src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='720' height='480'><rect width='100%' height='100%' fill='%231a1c12'/><text x='50%' y='50%' fill='%23f59e0b' font-size='20' text-anchor='middle'>Click to upload image</text></svg>">
          <p id="dropText" style="color:var(--accent)">Click or drag to upload</p>
          <input type="file" id="imageInput" accept="image/*">
        </label>
        <button class="btn continue-btn" id="continueBtn" disabled>Continue â†’</button>
      </div>
    </div>

    <!-- Bundles Page -->
    <div id="bundlesPage" class="page">
      <header>
        <div class="logo">ðŸ”¥ Whitex</div>
        <div><h1>Select Your Bundle</h1></div>
      </header>
      <div class="bundles-container" id="bundlesContainer"></div>
    </div>
  </div>

  <!-- UID Modal -->
  <div class="modal-backdrop" id="modalBackdrop">
    <div class="modal">
      <h2 id="modalTitle">Claim Bundle</h2>
      <p style="color:var(--muted);margin-top:6px">Enter your UID to receive your bundle.</p>
      <input id="uidInput" placeholder="Enter UID (numbers only)" style="width:100%;padding:10px;border-radius:10px;border:none;margin-top:10px">
      <button class="btn" id="submitUid" style="margin-top:16px">Submit</button>
    </div>
  </div>

  <!-- Congrats Modal -->
  <div class="modal-backdrop" id="congratsBackdrop">
    <div class="modal congrats">
      <strong style="font-size:20px;color:var(--accent)">ðŸŽ‰ Congratulations ðŸŽ‰</strong>
      <div class="reward" id="rewardBox"></div>
      <h3 id="rewardName"></h3>
      <p id="rewardMsg" style="color:var(--muted);font-size:14px"></p>
      <button class="btn" id="awesomeBtn">Awesome!</button>
    </div>
  </div>

  <script>
// Updated bundles data with direct root paths
const bundlesData = [
  { name: 'Red Criminal Bundle', image: 'Red Criminal Bundle.png', popular: true },
  { name: 'Yellow Criminal Bundle', image: 'Yellow Criminal Bundle.png', popular: true },
  { name: 'Cobra Rage Bundle', image: 'Cobra Rage Bundle.png', popular: true },
  { name: 'Bushido Bundle', image: 'Bushido Bundle.png' },
  { name: 'Artic Blue Bundle', image: 'Artic Blue Bundle.png' },
  { name: 'Bunny Ringleader Bundle', image: 'Bunny Ringleader Bundle.png' },
  { name: 'Bunny Warrior Bundle', image: 'Bunny Warrior Bundle.png' },
  { name: 'Galatic Bunny Bundle', image: 'Galatic Bunny Bundle.png' },
  { name: 'Genos Suit Bundle', image: 'Genos Suit Bundle.png' },
  { name: 'Saitama Bundle', image: 'Saitama Bundle.png' },
  { name: 'The Streets Bundle', image: 'The Streets Bundle.png' },
  { name: 'Zombiefied Samurai Bundle', image: 'Zombiefied Samurai Bundle.png' }
];

    // Sort: popular first
    const sortedBundles = [...bundlesData].sort((a,b) => (b.popular||0) - (a.popular||0));

    function showPage(id){
      document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
      document.getElementById(id).classList.add('active');
    }

    const input=document.getElementById('imageInput');
    const preview=document.getElementById('preview');
    const continueBtn=document.getElementById('continueBtn');
    document.getElementById('dropZone').addEventListener('click',()=>input.click());
    input.addEventListener('change',()=>{
      const file=input.files[0];
      if(!file) return;
      preview.src=URL.createObjectURL(file);
      continueBtn.disabled=false;
    });
    continueBtn.addEventListener('click',()=>{
      showPage('bundlesPage');
      generateBundles();
    });

    function generateBundles(){
      const container=document.getElementById('bundlesContainer');
      container.innerHTML='';
      sortedBundles.forEach((b,i)=>{
        const card=document.createElement('div');
        card.className='bundle-card';
        card.innerHTML=`
          <img src="${b.image}" alt="${b.name}" class="bundle-image" onerror="this.style.backgroundColor='#1a1c12'; this.style.display='flex'; this.style.alignItems='center'; this.style.justifyContent='center'; this.innerHTML='<span style=color:var(--accent);padding:20px;text-align:center>${b.name}<br><small>Image not found</small></span>'">
          <h3>${b.name}</h3>
          <div style="margin-top: auto;">
            <button class="btn" onclick="openModal(${i})">Claim Now</button>
          </div>
        `;
        container.appendChild(card);
      });
    }

    let selectedBundle=null;
    function openModal(i){
      selectedBundle=sortedBundles[i];
      document.getElementById('modalBackdrop').style.display='flex';
      document.getElementById('modalTitle').textContent='Claim â€” '+selectedBundle.name;
    }

    document.getElementById('submitUid').addEventListener('click',()=>{
      const uid=document.getElementById('uidInput').value.trim();
      if(!/^[0-9]{5,12}$/.test(uid)){alert('Enter valid UID');return;}
      document.getElementById('modalBackdrop').style.display='none';
      showCongrats(uid);
    });

    function showCongrats(uid){
      document.getElementById('congratsBackdrop').style.display='flex';
      document.getElementById('rewardBox').innerHTML=`<img src="${selectedBundle.image}" alt="${selectedBundle.name}" onerror="this.style.backgroundColor='#1a1c12'; this.style.display='flex'; this.style.alignItems='center'; this.style.justifyContent='center'; this.innerHTML='<span style=color:var(--accent);font-size:18px;font-weight:bold;padding:20px;text-align:center>${selectedBundle.name}<br><small>Image not found</small></span>'">`;
      document.getElementById('rewardName').textContent=selectedBundle.name;
      document.getElementById('rewardMsg').textContent=`Your bundle has been sent to UID: ${uid}`;
    }

    document.getElementById('awesomeBtn').addEventListener('click',()=>{
      document.getElementById('congratsBackdrop').style.display='none';
    });

    // Close modal when clicking outside
    document.getElementById('modalBackdrop').addEventListener('click', function(e) {
      if (e.target === this) {
        this.style.display = 'none';
      }
    });

    document.getElementById('congratsBackdrop').addEventListener('click', function(e) {
      if (e.target === this) {
        this.style.display = 'none';
      }
    });
  </script>
</body>
</html>
